<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="7cb341d3-1b8d-44b0-8dc3-fd5ee0f65aa8" activeEnvironment="Default environment" name="REST Project 2" resourceRoot="" soapui-version="6.0.0" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="8a12f5a7-3fb7-49d0-9e8f-f239b95b8e88" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://geoip.elib.ru" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://geoip.elib.ru</con:endpoint></con:endpoints><con:resource name="" path="/cgi-bin/getdata_mini.pl?sid={sid}&amp;ip={ip}" id="ac4aeb64-acea-4576-8338-1fefe6098d99"><con:settings/><con:parameters><con:parameter required="false" disableUrlEncoding="false"><con:name>ip</con:name><con:value/><con:style>TEMPLATE</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>sid</con:name><con:value/><con:style>TEMPLATE</con:style><con:default/></con:parameter></con:parameters><con:method name="" id="61c7e686-d0f9-456a-9cbd-03458028b82a" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/plain; charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Get Data By IP" id="a8d45b1b-dd31-4339-8d08-bfc923c0eaf1" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://geoip.elib.ru</con:endpoint><con:request/><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/><con:parameterOrder><con:entry>sid</con:entry><con:entry>ip</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:testSuite id="80714077-1292-40de-8993-2d94cbfbf01f" name="Get Data By IP"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="f92a3c98-4371-4cbd-aa1d-426013e2d59a" discardOkResults="true" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="Response with correct code" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="- Get Data By IP" id="33a609fc-ac06-4004-a3b8-f71d669d96ce"><con:settings/><con:config service="http://geoip.elib.ru" resourcePath="/cgi-bin/getdata_mini.pl?sid={sid}&amp;ip={ip}" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="- Get Data By IP" id="a8d45b1b-dd31-4339-8d08-bfc923c0eaf1" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://geoip.elib.ru</con:endpoint><con:request/><con:originalUri>http://geoip.elib.ru/cgi-bin/getdata_mini.pl</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2a9e84d9-f8e4-47a9-a569-16cbc3941078" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="ip" value="87.255.23.236"/>
  <con:entry key="sid" value="${#Project#sid}"/>
</con:parameters><con:parameterOrder><con:entry>sid</con:entry><con:entry>ip</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:testCase id="79f2e73c-69ea-418a-bb6a-ead6e6cee80e" discardOkResults="true" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="Correct Content of Different IPs" searchProperties="true"><con:settings/><con:testStep type="datasource" name="DataSource" id="db58cfd6-27b0-4c93-9053-8b61fee95266"><con:settings/><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Excel"><con:configuration><file>D:/!учеба/automation/сервисы/ips.xlsx</file><worksheet>data</worksheet><cell>A2</cell><ignoreEmpty>true</ignoreEmpty></con:configuration></con:dataSource><con:property>IP</con:property><con:property>City</con:property><con:restartOnRun>true</con:restartOnRun></con:config></con:testStep><con:testStep type="restrequest" name="Get Data By IP" id="829a5925-5d8d-490c-9395-981ed8db1700"><con:settings/><con:config service="http://geoip.elib.ru" methodName="" resourcePath="/cgi-bin/getdata_mini.pl?sid={sid}&amp;ip={ip}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get Data By IP" id="1e962f2b-153d-456d-8fad-d08ed4259204" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://geoip.elib.ru</con:endpoint><con:request/><con:originalUri>http://geoip.elib.ru/cgi-bin/getdata_mini.pl</con:originalUri><con:assertion type="Simple Contains" id="ef558f3c-bfa7-482a-a9ea-df4676fec9d1" name="Contains"><con:configuration><token>${DataSource#City}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="ip" value="${DataSource#IP}"/>
  <con:entry key="sid" value="${#Project#sid}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="datasourceloop" name="DataSource Loop" id="ec1ea86e-ad82-4f38-97dc-e7559ad50de3"><con:settings/><con:config><dataSourceStep>DataSource</dataSourceStep><targetStep>Get Data By IP</targetStep></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:testCase id="b58b71c5-6ab7-4bcb-888e-12df2ba11a5e" discardOkResults="true" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="Correct Content Encoding" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Get Data By IP" id="fc8410ab-0a94-44a6-8f55-364499bc9401"><con:settings/><con:config service="http://geoip.elib.ru" methodName="" resourcePath="/cgi-bin/getdata_mini.pl?sid={sid}&amp;ip={ip}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get Data By IP" id="cc0dc375-d945-4d40-9910-87f62609963c" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://geoip.elib.ru</con:endpoint><con:request/><con:originalUri>http://geoip.elib.ru/cgi-bin/getdata_mini.pl</con:originalUri><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="ip" value="87.255.23.236"/>
  <con:entry key="sid" value="${#Project#sid}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:testCase id="3cbd604d-936e-437c-a670-4a0ecbf3411d" discardOkResults="true" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="Same data for IPs from one City" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Get Data By IP1" id="b97a5537-f640-430d-b715-27aa01cd8132"><con:settings/><con:config service="http://geoip.elib.ru" methodName="" resourcePath="/cgi-bin/getdata_mini.pl?sid={sid}&amp;ip={ip}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get Data By IP" id="b5dfe2fb-2907-4bd9-b0c7-7b060b312697" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://geoip.elib.ru</con:endpoint><con:request/><con:originalUri>http://geoip.elib.ru/cgi-bin/getdata_mini.pl</con:originalUri><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="ip" value="213.252.105.59"/>
  <con:entry key="sid" value="${#Project#sid}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Get Data By IP2" id="8ba5469d-a123-4380-ac92-1077e8e2fb7c"><con:settings/><con:config service="http://geoip.elib.ru" methodName="" resourcePath="/cgi-bin/getdata_mini.pl?sid={sid}&amp;ip={ip}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get Data By IP" id="9961c956-dc90-4518-9958-06e6665bdbbb" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://geoip.elib.ru</con:endpoint><con:request/><con:originalUri>http://geoip.elib.ru/cgi-bin/getdata_mini.pl</con:originalUri><con:assertion type="GroovyScriptAssertion" id="b0fbb9e1-45f4-4453-bcd6-cebaee171d3e" name="Script Assertion"><con:configuration><scriptText>def response1 = context.expand( '${Get Data By IP1#Response}' )
def response2 = context.expand( '${Get Data By IP1#Response}' )
assert response1==response2</scriptText></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="ip" value="213.252.105.100"/>
  <con:entry key="sid" value="${#Project#sid}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:testCase id="124c613f-836f-4bbb-a306-aa63182121e0" discardOkResults="true" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="Incorrect format of IP" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Get Data By IP" id="2ba2d0e3-c2a0-4970-8639-57fbd43039e0"><con:settings/><con:config service="http://geoip.elib.ru" methodName="" resourcePath="/cgi-bin/getdata_mini.pl?sid={sid}&amp;ip={ip}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get Data By IP" id="a6015a8b-97b7-4b6e-bb89-aceb0f79be7d" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://geoip.elib.ru</con:endpoint><con:request/><con:originalUri>http://geoip.elib.ru/cgi-bin/getdata_mini.pl</con:originalUri><con:assertion type="Simple Contains" id="04df9cf7-e83d-4c0c-a04a-4dd4af3a569f" name="Contains"><con:configuration><token>E10</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="ip" value="213.252.105.59.1"/>
  <con:entry key="sid" value="${#Project#sid}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:testCase id="eb356338-2e4c-4779-b629-db87323188fb" discardOkResults="true" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="No IP found" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Get Data By IP" id="8275dc32-c032-4c4e-bc89-d1ff42a7ea9b"><con:settings/><con:config service="http://geoip.elib.ru" methodName="" resourcePath="/cgi-bin/getdata_mini.pl?sid={sid}&amp;ip={ip}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get Data By IP" id="f8907e9f-a3c2-4c31-9e46-3229fc0d97fc" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://geoip.elib.ru</con:endpoint><con:request/><con:originalUri>http://geoip.elib.ru/cgi-bin/getdata_mini.pl</con:originalUri><con:assertion type="Simple Contains" id="e282a0c4-a9fc-46ed-b4b2-b9184d6dcaef" name="Contains"><con:configuration><token>E205</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="ip" value="37.44.92.55"/>
  <con:entry key="sid" value="${#Project#sid}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:properties/><con:reportParameters/></con:testSuite><con:restMockService id="db0b8f2a-f6e4-4988-a3c9-63a33fa45342" port="8081" path="/" host="Elena-PC" name="REST Virt 1"><con:settings/><con:properties/><con:constraints><con:congestion>0</con:congestion><con:inputBandwidth>-1</con:inputBandwidth><con:outputBandwidth>-1</con:outputBandwidth><con:maxThreadPoolCapacity>20</con:maxThreadPoolCapacity><con:coreThreadPoolCapacity>5</con:coreThreadPoolCapacity><con:virtError><con:start>0</con:start><con:endless>true</con:endless></con:virtError></con:constraints><con:headerValidator type="NONE"/></con:restMockService><con:requirements/><con:properties><con:property><con:name>sid</con:name><con:value>5FBV8AWK</con:value></con:property></con:properties><con:wssContainer/><con:databaseConnectionContainer/><con:oAuth2ProfileContainer/><con:reporting><con:reportTemplates/><con:xmlTemplates/><con:xmlTemplates/><con:parameters/><con:parameters/></con:reporting><con:reporting/><con:authRepository/></con:soapui-project>